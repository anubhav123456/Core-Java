
---

# Core Executor Interfaces and Classes (Java Concurrency)

Java‚Äôs **Executor Framework** (java.util.concurrent) provides high-level APIs to manage threads efficiently instead of manually creating and controlling threads.

---

## 1. Executor ‚Äì Base Interface (Task Execution Abstraction)

### What it is

* The **most basic interface** in the executor framework.
* Defines **how a task is executed**, not *when or where*.
* You will **rarely (almost never) use it directly**.
* All higher-level executors build on top of this.

### Key Method

```java
void execute(Runnable command);
```

### Code Example

```java
Executor executor = command -> new Thread(command).start();

executor.execute(() -> {
    System.out.println("Simple task executed");
});
```

### Explanation

* `Executor` only knows **how to accept a task**.
* It does **not manage lifecycle**, thread pooling, or result tracking.
* In this example:

  * Each task creates a **new thread**.
  * No control over resource usage.
* This interface exists mainly for **abstraction and extensibility**.

---

## 2. ExecutorService ‚Äì Executor + Lifecycle Management

### What it is

* Extends `Executor`.
* Adds **task submission**, **result tracking**, and **lifecycle control**.
* This is the **most commonly used interface** in real applications.

### How to create

```java
ExecutorService executorService = Executors.newFixedThreadPool(2);
```

### submit() vs execute()

| Method      | Behavior                                             |
| ----------- | ---------------------------------------------------- |
| `execute()` | Fire-and-forget (no result, no exception tracking)   |
| `submit()`  | Returns `Future`, allows result & exception tracking |

### Code Example

```java
ExecutorService executorService = Executors.newFixedThreadPool(2);

Future<String> future = executorService.submit(() -> {
    return "Hello ExecutorService";
});

System.out.println(future.get()); // Blocking call
executorService.shutdown();
```

### Explanation

* `submit()` returns a **Future**:

  * Can retrieve result (`get()`)
  * Can detect exceptions
  * Can check completion status
* `shutdown()`:

  * Stops accepting new tasks
  * Allows existing tasks to complete

### Why it‚Äôs important

* Core API used in **real-world concurrent systems**
* Supports:

  * `submit()`
  * `invokeAll()`
  * `shutdown()`
  * Task monitoring and control

---

## 3. ScheduledExecutorService ‚Äì Task Scheduling

### What it is

* Extends `ExecutorService`.
* Adds **scheduling capabilities**:

  * Delayed execution
  * Periodic execution

### Creation

```java
ScheduledExecutorService scheduler =
        Executors.newScheduledThreadPool(1);
```

### scheduleAtFixedRate Example

```java
ScheduledExecutorService scheduler =
        Executors.newScheduledThreadPool(1);

scheduler.scheduleAtFixedRate(() -> {
    System.out.println("Running every 2 seconds");
}, 0, 2, TimeUnit.SECONDS);
```

### Parameters Explained

```java
scheduleAtFixedRate(
    Runnable command,
    long initialDelay, // when to start
    long period,       // interval between executions
    TimeUnit unit
);
```

### Explanation

* Initial delay = `0` ‚Üí starts immediately
* Period = `2` seconds ‚Üí runs every 2 seconds
* Used for:

  * Health checks
  * Polling
  * Cron-like background jobs

> üîî Interview Tip: Fixed Rate vs Fixed Delay is a common question.

---

## 4. ThreadPoolExecutor ‚Äì Core Implementation of ExecutorService

### What it is

* **Primary concrete implementation** of `ExecutorService`.
* Gives **full control** over thread pool behavior.
* Used when you need **performance tuning**.

### Constructor

```java
ThreadPoolExecutor executor = new ThreadPoolExecutor(
    int corePoolSize,
    int maximumPoolSize,
    long keepAliveTime,
    TimeUnit unit,
    BlockingQueue<Runnable> workQueue
);
```

### Code Example

```java
ThreadPoolExecutor customPool = new ThreadPoolExecutor(
    2,                      // core threads
    4,                      // max threads
    60, TimeUnit.SECONDS,   // idle thread timeout
    new LinkedBlockingQueue<>()
);
```

### Explanation

* Full control over:

  * Core threads
  * Maximum threads
  * Queue type
  * Keep-alive time
  * Rejection policies
* Ideal for:

  * High-throughput systems
  * Production-grade tuning
  * Latency-sensitive workloads

---

## 5. ScheduledThreadPoolExecutor ‚Äì Implementation of ScheduledExecutorService

### What it is

* Concrete implementation of `ScheduledExecutorService`.
* Similar to how `ThreadPoolExecutor` implements `ExecutorService`.

### Creation

```java
ScheduledThreadPoolExecutor scheduledPool =
        new ScheduledThreadPoolExecutor(2);
```

### Example

```java
scheduledPool.schedule(() -> {
    System.out.println("Executed after delay");
}, 5, TimeUnit.SECONDS);
```

### Explanation

* Supports:

  * Delayed tasks
  * Periodic tasks
* Also allows:

  * Thread pool tuning
  * Queue management
* Best when you want **both scheduling + full control**

---

## 6. Executors ‚Äì Factory Utility Class

### What it is

* A **factory class** for creating executor instances.
* Hides complexity of `ThreadPoolExecutor` constructors.
* Most commonly used in applications.

### Common Factory Methods

```java
ExecutorService newFixedThreadPool(int nThreads);
ExecutorService newCachedThreadPool();
ExecutorService newSingleThreadExecutor();
ScheduledExecutorService newScheduledThreadPool(int corePoolSize);
```

### Example

```java
ExecutorService fixedPool = Executors.newFixedThreadPool(3);
ScheduledExecutorService scheduled =
        Executors.newScheduledThreadPool(1);
```

### Explanation

* Simplifies executor creation
* Good defaults for most use cases
* Internally uses `ThreadPoolExecutor`
* Ideal for:

  * Quick setup
  * Readable code
  * Less boilerplate

> üè≠ Design Pattern: `Executors` follows the **Factory Pattern**

---

## Quick Summary Table

| Component                   | Purpose                          |
| --------------------------- | -------------------------------- |
| Executor                    | Basic task execution abstraction |
| ExecutorService             | Adds lifecycle + result handling |
| ScheduledExecutorService    | Adds scheduling                  |
| ThreadPoolExecutor          | Full-control executor            |
| ScheduledThreadPoolExecutor | Full-control scheduler           |
| Executors                   | Factory for executors            |

---

